<PlayingField>:

<BasicBoxLayout>:

<AbilityPrompt>:
	Button:
		on_release: root.ap_on_release()
		text: root.name

<SelectButton>:
	pos_hint: {'x':0.25, 'y':0.25}
	size_hint: (0.5, 0.5)
	on_release: self.sb_on_release()

<EmptyField>:
	Button:
		on_release: root.ef_on_release()

<LevelUpButton>:
	text: self.upgrade
	on_release: self.lub_on_release()

<LevelUpLayout>:
	orientation: 'vertical'

<LevelUpPopup>:
	title: 'Ability leveled up!'

<InfoPopup>:
	title: 'Character information'
	BoxLayout:
		orientation: 'vertical'
		Label:
			text: root.team_label
		Label:
			text: root.health_label
		Label:
			text: root.mana_label
		Label:
			text: root.time_label
		Label:
			text: root.weapon_label
		Label:
			text: root.abilities_label
		Label:
			text: root.status_effect_label
		Button:
			text: 'BACK'
			on_release: root.dismiss()

<Mate>:
	canvas:
		Color:
			rgba: (0.8, 0, 0, 1)
		Rectangle:
			pos: (self.x, self.y + self.height - 6)
			size: (self.size[0] * self.health / self.max_health, 6)
		Color:
			rgba: (0, 0.7, 0, 1) 
		Rectangle:
			pos: (self.x, self.y + self.height - 12)
			size: (self.size[0] * self.armor / self.max_armor, 6)
		Color:
			rgba: (0, 0, 0.9, 1)

		Rectangle:
			pos: (self.x, self.y + self.height - 18)
			size: (self.size[0] * self.mana / self.max_mana, 6)
		Color:
			rgba: (1., 1., 1., 1) if self.t < self.max_t else (0.8, 0.8, 0., 1)
		Rectangle:
			pos: (self.x, self.y + self.height - 24)
			size: (self.size[0] * self.t / self.max_t, 6)
	Button:
		background_normal: root.button_normal_path
		pos: (root.x+2, root.y+2)
		size_hint: (None, None)
		size: (root.width-4, root.height-26)
		on_release: root.ma_on_release()


<MagicMatesGame>:
	orientation: 'vertical'
	Label:
		text: 'MAGIC MATES'
		size_hint: None, None
		size: 900, 30
	BasicBoxLayout:
		orientation: 'horizontal'
		PlayingField:
			id: playing_field
			size_hint: None, None
			size: 900, 900
		AbilityMenu:
			id: ability_menu
			orientation: 'vertical'
			Label:
				text: 'Choose ability'
